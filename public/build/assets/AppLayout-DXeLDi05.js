import{aS as t,bC as R,aK as d,u as i,v as e,at as v,bJ as z,bz as F,H as k,aW as M,t as g,b9 as C,F as B,cS as D}from"./app-fLTEigqr.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";const T={class:"flex min-h-screen bg-gray-100"},U={class:"fixed top-0 left-0 h-full flex flex-col w-64 p-4 text-white bg-blue-900 z-20"},N={class:"relative z-10 flex flex-col flex-1"},V={class:"flex-1"},H={class:"custom-accordion"},K={class:"custom-accordion-content"},W={class:"custom-menu"},G={class:"flex-1 p-8 ml-64 overflow-y-auto relative"},J={class:"relative z-10"},Y={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-gray-800 bg-opacity-75"},q={key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-gray-800 bg-opacity-75"},Q={class:"w-full max-w-md overflow-hidden transition-all transform bg-white rounded-lg shadow-xl"},X={class:"p-4"},Z={class:"flex flex-col items-center gap-1"},ee={key:2,class:"modal fade show",tabindex:"-1",role:"dialog","aria-labelledby":"downloadModalLabel","aria-hidden":"true",style:{display:"block"}},oe={class:"modal-dialog",role:"document"},se={class:"modal-content"},te={class:"modal-header"},le={key:3,class:"modal fade show",tabindex:"-1",role:"dialog","aria-labelledby":"resultModalLabel","aria-hidden":"true",style:{display:"block"}},ae={class:"modal-dialog",role:"document"},ne={class:"modal-content"},de={class:"modal-header"},ie={class:"modal-title",id:"resultModalLabel"},re={class:"modal-body"},ue={class:"modal-footer"},ce={__name:"AppLayout",setup(be){const r=t(!0),f=t(!1),u=t(!1),c=t(!1),w=t(""),m=t(!1),x=t(0),S=t(0),b=t("");t([]),t(!1),t(-1);const P=()=>{r.value=!r.value},p=(l,o,s=0,a=0)=>{b.value=l,D.visit(route(o),{preserveState:!0,replace:!0,onSuccess:()=>{x.value=s,S.value=a}})},L=()=>{f.value=!0},$=()=>{f.value=!1},_=()=>{D.post(route("logout"))},j=()=>{m.value=!0},y=()=>{m.value=!1},A=()=>{u.value=!0,console.log("Download modal should be visible")},I=()=>{j()},n=async l=>{y();try{A();let o="/download-pds";l!=="all"&&(o+=`/${l}`);const s=await axios.get(o,{responseType:"blob"}),a=document.createElement("a"),O=new Blob([s.data],{type:"application/pdf"}),h=URL.createObjectURL(O);a.href=h,a.download=l==="all"?"PDS_All_Pages.pdf":`PDS_Page_${l}.pdf`,a.click(),URL.revokeObjectURL(h),a.remove()}catch(o){console.error("Error downloading PDS:",o)}finally{u.value=!1,c.value=!0}};return R(x,l=>{console.log("Active tab changed to:",l)}),(l,o)=>(d(),i(B,null,[o[25]||(o[25]=e("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"},null,-1)),o[26]||(o[26]=e("link",{rel:"stylesheet",href:"https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"},null,-1)),e("div",T,[e("aside",U,[o[17]||(o[17]=e("img",{src:"/images/bgthisd.png",alt:"Sidebar Background",class:"absolute inset-0 object-cover w-full h-full opacity-5"},null,-1)),e("div",N,[o[15]||(o[15]=e("div",{class:"text-center"},[e("img",{src:"/images/dswd-logo.png",alt:"DSWD Logo",class:"mx-auto mb-4 h-22"})],-1)),e("nav",V,[e("div",H,[e("div",{class:"custom-accordion-header",onClick:P},[o[11]||(o[11]=e("i",{class:"fa-regular fa-circle-user text-3xl"},null,-1)),o[12]||(o[12]=e("span",{class:"font-bold"},"USER PROFILE",-1)),e("i",{class:v([{"rotate-180":r.value},"fas fa-chevron-down"])},null,2)]),z(e("div",K,[e("ul",W,[e("li",{class:v([{active:b.value==="basicInfo"},"menu-item"]),onClick:o[0]||(o[0]=s=>p("basicInfo","dashboard",0))}," BASIC INFO ",2),e("li",{class:v([{active:b.value==="background"},"menu-item"]),onClick:o[1]||(o[1]=s=>p("background","background",0))}," BACKGROUND ",2),e("li",{class:v([{active:b.value==="otherInfo"},"menu-item"]),onClick:o[2]||(o[2]=s=>p("otherInfo","otherinfo",0))}," OTHER INFO ",2)])],512),[[F,r.value]])])]),e("button",{onClick:I,class:"w-30 px-2 py-2 mt-4 text-white bg-blue-700 rounded hover:bg-blue-600",style:{"font-size":"16px"}},o[13]||(o[13]=[e("i",{class:"fas fa-download mr-2"},null,-1),k(" Personal Data Sheet ")])),o[16]||(o[16]=e("br",null,null,-1)),e("button",{onClick:L,class:"w-30 px-2 py-2 mt-0 text-white bg-red-600 rounded hover:bg-red-700",style:{"font-size":"16px"}},o[14]||(o[14]=[e("i",{class:"fas fa-sign-out-alt mr-2"},null,-1),k(" Log Out ")]))])]),e("main",G,[o[18]||(o[18]=e("img",{src:"/images/backgrounddswdnotop.png",alt:"Main Background",class:"fixed inset-0 object-cover w-full h-full opacity-100"},null,-1)),e("div",J,[M(l.$slots,"default",{},void 0,!0)])]),f.value?(d(),i("div",Y,[e("div",{class:"w-full max-w-lg overflow-hidden transition-all transform bg-white rounded-lg shadow-xl"},[e("div",{class:"p-4"},[o[19]||(o[19]=e("div",{class:"text-center"},[e("i",{class:"mb-4 text-4xl fas fa-exclamation-triangle",style:{color:"red"}}),e("h2",{class:"mb-4 text-xl font-semibold"},"Are you sure you want to Log-out?")],-1)),e("div",{class:"flex justify-center gap-4"},[e("button",{onClick:$,class:"px-4 py-2 text-gray-700 bg-gray-300 rounded hover:bg-gray-400"}," Cancel "),e("button",{onClick:_,class:"px-4 py-2 text-white bg-red-600 rounded hover:bg-red-700"}," Confirm ")])])])])):g("",!0),m.value?(d(),i("div",q,[e("div",Q,[e("div",X,[o[20]||(o[20]=e("div",{class:"text-center"},[e("h2",{class:"mb-4 text-xl font-semibold"},"Download Personal Data Sheet")],-1)),e("div",Z,[e("button",{onClick:o[3]||(o[3]=s=>n(1)),class:"w-64 px-1 py-2 text-white bg-blue-900 rounded hover:bg-blue-800"},"Download Page 1"),e("button",{onClick:o[4]||(o[4]=s=>n(2)),class:"w-64 px-1 py-2 text-white bg-blue-900 rounded hover:bg-blue-800"},"Download Page 2"),e("button",{onClick:o[5]||(o[5]=s=>n(3)),class:"w-64 px-1 py-2 text-white bg-blue-900 rounded hover:bg-blue-800"},"Download Page 3"),e("button",{onClick:o[6]||(o[6]=s=>n(4)),class:"w-64 px-1 py-2 text-white bg-blue-900 rounded hover:bg-blue-800"},"Download Page 4"),e("button",{onClick:o[7]||(o[7]=s=>n(5)),class:"w-64 px-1 py-2 text-white bg-blue-900 rounded hover:bg-blue-800"},"Download All Pages")]),e("div",{class:"mt-4 flex justify-center"},[e("button",{onClick:y,class:"w-32 px-4 py-2 text-white bg-red-700 rounded hover:bg-red-800"},"Cancel")])])])])):g("",!0),u.value?(d(),i("div",ee,[e("div",oe,[e("div",se,[e("div",te,[o[22]||(o[22]=e("h5",{class:"modal-title",id:"downloadModalLabel"},"Downloading File",-1)),e("button",{type:"button",class:"close",onClick:o[8]||(o[8]=s=>u.value=!1),"aria-label":"Close"},o[21]||(o[21]=[e("span",{"aria-hidden":"true"},"×",-1)]))]),o[23]||(o[23]=e("div",{class:"modal-body",id:"modalMessage"}," Please wait, your file is being downloaded... ",-1))])])])):g("",!0),c.value?(d(),i("div",le,[e("div",ae,[e("div",ne,[e("div",de,[e("h5",ie,C(w.value==="success"?"Download Failed":"Download Successful"),1),e("button",{type:"button",class:"close",onClick:o[9]||(o[9]=s=>c.value=!1),"aria-label":"Close"},o[24]||(o[24]=[e("span",{"aria-hidden":"true"},"×",-1)]))]),e("div",re,C(w.value==="success"?"There was an error downloading your file. Please try again.":"Your file has been downloaded successfully."),1),e("div",ue,[e("button",{type:"button",class:"px-3 py-2 font-semibold text-white bg-blue-900 rounded hover:bg-blue-800",onClick:o[10]||(o[10]=s=>c.value=!1)},"CLOSE")])])])])):g("",!0)])],64))}},fe=E(ce,[["__scopeId","data-v-be5f30b3"]]);export{fe as A};
