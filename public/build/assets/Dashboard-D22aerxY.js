import{bV as ke,bR as B,aX as Zt,aK as b,s as Ae,bH as Ie,v as n,I as Re,b9 as L,at as D,u as y,bJ as x,by as I,H as N,bx as H,F as X,aV as W,t as K,bu as Pe}from"./app-fLTEigqr.js";import{A as Be}from"./AppLayout-DXeLDi05.js";import{_ as Ue}from"./_plugin-vue_export-helper-DlAUqK2U.js";/*!
 * Cropper.js v1.6.2
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-04-21T07:43:05.335Z
 */function Qt(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,i)}return s}function fe(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Qt(Object(s),!0).forEach(function(i){Ye(e,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Qt(Object(s)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(s,i))})}return e}function Le(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var i=s.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pe(e){var t=Le(e,"string");return typeof t=="symbol"?t:t+""}function kt(e){"@babel/helpers - typeof";return kt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kt(e)}function ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jt(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,pe(i.key),i)}}function _e(e,t,s){return t&&Jt(e.prototype,t),s&&Jt(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ye(e,t,s){return t=pe(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function ge(e){return Ve(e)||He(e)||Xe(e)||We()}function Ve(e){if(Array.isArray(e))return At(e)}function He(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xe(e,t){if(e){if(typeof e=="string")return At(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return At(e,t)}}function At(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,i=new Array(t);s<t;s++)i[s]=e[s];return i}function We(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Tt=typeof window<"u"&&typeof window.document<"u",Z=Tt?window:{},Vt=Tt&&Z.document.documentElement?"ontouchstart"in Z.document.documentElement:!1,Ht=Tt?"PointerEvent"in Z:!1,T="cropper",Xt="all",me="crop",be="move",ve="zoom",ot="e",nt="w",dt="s",tt="n",pt="ne",gt="nw",mt="se",bt="sw",It="".concat(T,"-crop"),$t="".concat(T,"-disabled"),_="".concat(T,"-hidden"),te="".concat(T,"-hide"),Fe="".concat(T,"-invisible"),Ct="".concat(T,"-modal"),Rt="".concat(T,"-move"),yt="".concat(T,"Action"),Et="".concat(T,"Preview"),Wt="crop",ye="move",xe="none",Pt="crop",Bt="cropend",Ut="cropmove",Lt="cropstart",ee="dblclick",je=Vt?"touchstart":"mousedown",Ge=Vt?"touchmove":"mousemove",Ke=Vt?"touchend touchcancel":"mouseup",ie=Ht?"pointerdown":je,se=Ht?"pointermove":Ge,re=Ht?"pointerup pointercancel":Ke,ae="ready",oe="resize",ne="wheel",zt="zoom",le="image/jpeg",qe=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,Ze=/^data:/,Qe=/^data:image\/jpeg;base64,/,Je=/^img|canvas$/i,we=200,Ee=100,de={viewMode:0,dragMode:Wt,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:we,minContainerHeight:Ee,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},$e='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',ti=Number.isNaN||Z.isNaN;function g(e){return typeof e=="number"&&!ti(e)}var he=function(t){return t>0&&t<1/0};function Ot(e){return typeof e>"u"}function lt(e){return kt(e)==="object"&&e!==null}var ei=Object.prototype.hasOwnProperty;function ht(e){if(!lt(e))return!1;try{var t=e.constructor,s=t.prototype;return t&&s&&ei.call(s,"isPrototypeOf")}catch{return!1}}function z(e){return typeof e=="function"}var ii=Array.prototype.slice;function De(e){return Array.from?Array.from(e):ii.call(e)}function S(e,t){return e&&z(t)&&(Array.isArray(e)||g(e.length)?De(e).forEach(function(s,i){t.call(e,s,i,e)}):lt(e)&&Object.keys(e).forEach(function(s){t.call(e,e[s],s,e)})),e}var M=Object.assign||function(t){for(var s=arguments.length,i=new Array(s>1?s-1:0),r=1;r<s;r++)i[r-1]=arguments[r];return lt(t)&&i.length>0&&i.forEach(function(a){lt(a)&&Object.keys(a).forEach(function(l){t[l]=a[l]})}),t},si=/\.\d*(?:0|9){12}\d*$/;function ut(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return si.test(e)?Math.round(e*t)/t:e}var ri=/^width|height|left|top|marginLeft|marginTop$/;function et(e,t){var s=e.style;S(t,function(i,r){ri.test(r)&&g(i)&&(i="".concat(i,"px")),s[r]=i})}function ai(e,t){return e.classList?e.classList.contains(t):e.className.indexOf(t)>-1}function P(e,t){if(t){if(g(e.length)){S(e,function(i){P(i,t)});return}if(e.classList){e.classList.add(t);return}var s=e.className.trim();s?s.indexOf(t)<0&&(e.className="".concat(s," ").concat(t)):e.className=t}}function q(e,t){if(t){if(g(e.length)){S(e,function(s){q(s,t)});return}if(e.classList){e.classList.remove(t);return}e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,""))}}function ct(e,t,s){if(t){if(g(e.length)){S(e,function(i){ct(i,t,s)});return}s?P(e,t):q(e,t)}}var oi=/([a-z\d])([A-Z])/g;function Ft(e){return e.replace(oi,"$1-$2").toLowerCase()}function _t(e,t){return lt(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(Ft(t)))}function xt(e,t,s){lt(s)?e[t]=s:e.dataset?e.dataset[t]=s:e.setAttribute("data-".concat(Ft(t)),s)}function ni(e,t){if(lt(e[t]))try{delete e[t]}catch{e[t]=void 0}else if(e.dataset)try{delete e.dataset[t]}catch{e.dataset[t]=void 0}else e.removeAttribute("data-".concat(Ft(t)))}var Ce=/\s\s*/,Te=function(){var e=!1;if(Tt){var t=!1,s=function(){},i=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(a){t=a}});Z.addEventListener("test",s,i),Z.removeEventListener("test",s,i)}return e}();function j(e,t,s){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},r=s;t.trim().split(Ce).forEach(function(a){if(!Te){var l=e.listeners;l&&l[a]&&l[a][s]&&(r=l[a][s],delete l[a][s],Object.keys(l[a]).length===0&&delete l[a],Object.keys(l).length===0&&delete e.listeners)}e.removeEventListener(a,r,i)})}function F(e,t,s){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},r=s;t.trim().split(Ce).forEach(function(a){if(i.once&&!Te){var l=e.listeners,d=l===void 0?{}:l;r=function(){delete d[a][s],e.removeEventListener(a,r,i);for(var u=arguments.length,h=new Array(u),c=0;c<u;c++)h[c]=arguments[c];s.apply(e,h)},d[a]||(d[a]={}),d[a][s]&&e.removeEventListener(a,d[a][s],i),d[a][s]=r,e.listeners=d}e.addEventListener(a,r,i)})}function ft(e,t,s){var i;return z(Event)&&z(CustomEvent)?i=new CustomEvent(t,{detail:s,bubbles:!0,cancelable:!0}):(i=document.createEvent("CustomEvent"),i.initCustomEvent(t,!0,!0,s)),e.dispatchEvent(i)}function Me(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var St=Z.location,li=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function ce(e){var t=e.match(li);return t!==null&&(t[1]!==St.protocol||t[2]!==St.hostname||t[3]!==St.port)}function ue(e){var t="timestamp=".concat(new Date().getTime());return e+(e.indexOf("?")===-1?"?":"&")+t}function vt(e){var t=e.rotate,s=e.scaleX,i=e.scaleY,r=e.translateX,a=e.translateY,l=[];g(r)&&r!==0&&l.push("translateX(".concat(r,"px)")),g(a)&&a!==0&&l.push("translateY(".concat(a,"px)")),g(t)&&t!==0&&l.push("rotate(".concat(t,"deg)")),g(s)&&s!==1&&l.push("scaleX(".concat(s,")")),g(i)&&i!==1&&l.push("scaleY(".concat(i,")"));var d=l.length?l.join(" "):"none";return{WebkitTransform:d,msTransform:d,transform:d}}function di(e){var t=fe({},e),s=0;return S(e,function(i,r){delete t[r],S(t,function(a){var l=Math.abs(i.startX-a.startX),d=Math.abs(i.startY-a.startY),o=Math.abs(i.endX-a.endX),u=Math.abs(i.endY-a.endY),h=Math.sqrt(l*l+d*d),c=Math.sqrt(o*o+u*u),f=(c-h)/h;Math.abs(f)>Math.abs(s)&&(s=f)})}),s}function Dt(e,t){var s=e.pageX,i=e.pageY,r={endX:s,endY:i};return t?r:fe({startX:s,startY:i},r)}function hi(e){var t=0,s=0,i=0;return S(e,function(r){var a=r.startX,l=r.startY;t+=a,s+=l,i+=1}),t/=i,s/=i,{pageX:t,pageY:s}}function it(e){var t=e.aspectRatio,s=e.height,i=e.width,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",a=he(i),l=he(s);if(a&&l){var d=s*t;r==="contain"&&d>i||r==="cover"&&d<i?s=i/t:i=s*t}else a?s=i/t:l&&(i=s*t);return{width:i,height:s}}function ci(e){var t=e.width,s=e.height,i=e.degree;if(i=Math.abs(i)%180,i===90)return{width:s,height:t};var r=i%90*Math.PI/180,a=Math.sin(r),l=Math.cos(r),d=t*l+s*a,o=t*a+s*l;return i>90?{width:o,height:d}:{width:d,height:o}}function ui(e,t,s,i){var r=t.aspectRatio,a=t.naturalWidth,l=t.naturalHeight,d=t.rotate,o=d===void 0?0:d,u=t.scaleX,h=u===void 0?1:u,c=t.scaleY,f=c===void 0?1:c,v=s.aspectRatio,m=s.naturalWidth,C=s.naturalHeight,w=i.fillColor,k=w===void 0?"transparent":w,R=i.imageSmoothingEnabled,O=R===void 0?!0:R,Q=i.imageSmoothingQuality,Y=Q===void 0?"low":Q,p=i.maxWidth,E=p===void 0?1/0:p,A=i.maxHeight,V=A===void 0?1/0:A,J=i.minWidth,st=J===void 0?0:J,rt=i.minHeight,$=rt===void 0?0:rt,G=document.createElement("canvas"),U=G.getContext("2d"),at=it({aspectRatio:v,width:E,height:V}),wt=it({aspectRatio:v,width:st,height:$},"cover"),Mt=Math.min(at.width,Math.max(wt.width,m)),Nt=Math.min(at.height,Math.max(wt.height,C)),jt=it({aspectRatio:r,width:E,height:V}),Gt=it({aspectRatio:r,width:st,height:$},"cover"),Kt=Math.min(jt.width,Math.max(Gt.width,a)),qt=Math.min(jt.height,Math.max(Gt.height,l)),Oe=[-Kt/2,-qt/2,Kt,qt];return G.width=ut(Mt),G.height=ut(Nt),U.fillStyle=k,U.fillRect(0,0,Mt,Nt),U.save(),U.translate(Mt/2,Nt/2),U.rotate(o*Math.PI/180),U.scale(h,f),U.imageSmoothingEnabled=O,U.imageSmoothingQuality=Y,U.drawImage.apply(U,[e].concat(ge(Oe.map(function(Se){return Math.floor(ut(Se))})))),U.restore(),G}var Ne=String.fromCharCode;function fi(e,t,s){var i="";s+=t;for(var r=t;r<s;r+=1)i+=Ne(e.getUint8(r));return i}var pi=/^data:.*,/;function gi(e){var t=e.replace(pi,""),s=atob(t),i=new ArrayBuffer(s.length),r=new Uint8Array(i);return S(r,function(a,l){r[l]=s.charCodeAt(l)}),i}function mi(e,t){for(var s=[],i=8192,r=new Uint8Array(e);r.length>0;)s.push(Ne.apply(null,De(r.subarray(0,i)))),r=r.subarray(i);return"data:".concat(t,";base64,").concat(btoa(s.join("")))}function bi(e){var t=new DataView(e),s;try{var i,r,a;if(t.getUint8(0)===255&&t.getUint8(1)===216)for(var l=t.byteLength,d=2;d+1<l;){if(t.getUint8(d)===255&&t.getUint8(d+1)===225){r=d;break}d+=1}if(r){var o=r+4,u=r+10;if(fi(t,o,4)==="Exif"){var h=t.getUint16(u);if(i=h===18761,(i||h===19789)&&t.getUint16(u+2,i)===42){var c=t.getUint32(u+4,i);c>=8&&(a=u+c)}}}if(a){var f=t.getUint16(a,i),v,m;for(m=0;m<f;m+=1)if(v=a+m*12+2,t.getUint16(v,i)===274){v+=8,s=t.getUint16(v,i),t.setUint16(v,1,i);break}}}catch{s=1}return s}function vi(e){var t=0,s=1,i=1;switch(e){case 2:s=-1;break;case 3:t=-180;break;case 4:i=-1;break;case 5:t=90,i=-1;break;case 6:t=90;break;case 7:t=90,s=-1;break;case 8:t=-90;break}return{rotate:t,scaleX:s,scaleY:i}}var yi={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,s=this.options,i=this.container,r=this.cropper,a=Number(s.minContainerWidth),l=Number(s.minContainerHeight);P(r,_),q(t,_);var d={width:Math.max(i.offsetWidth,a>=0?a:we),height:Math.max(i.offsetHeight,l>=0?l:Ee)};this.containerData=d,et(r,{width:d.width,height:d.height}),P(t,_),q(r,_)},initCanvas:function(){var t=this.containerData,s=this.imageData,i=this.options.viewMode,r=Math.abs(s.rotate)%180===90,a=r?s.naturalHeight:s.naturalWidth,l=r?s.naturalWidth:s.naturalHeight,d=a/l,o=t.width,u=t.height;t.height*d>t.width?i===3?o=t.height*d:u=t.width/d:i===3?u=t.width/d:o=t.height*d;var h={aspectRatio:d,naturalWidth:a,naturalHeight:l,width:o,height:u};this.canvasData=h,this.limited=i===1||i===2,this.limitCanvas(!0,!0),h.width=Math.min(Math.max(h.width,h.minWidth),h.maxWidth),h.height=Math.min(Math.max(h.height,h.minHeight),h.maxHeight),h.left=(t.width-h.width)/2,h.top=(t.height-h.height)/2,h.oldLeft=h.left,h.oldTop=h.top,this.initialCanvasData=M({},h)},limitCanvas:function(t,s){var i=this.options,r=this.containerData,a=this.canvasData,l=this.cropBoxData,d=i.viewMode,o=a.aspectRatio,u=this.cropped&&l;if(t){var h=Number(i.minCanvasWidth)||0,c=Number(i.minCanvasHeight)||0;d>1?(h=Math.max(h,r.width),c=Math.max(c,r.height),d===3&&(c*o>h?h=c*o:c=h/o)):d>0&&(h?h=Math.max(h,u?l.width:0):c?c=Math.max(c,u?l.height:0):u&&(h=l.width,c=l.height,c*o>h?h=c*o:c=h/o));var f=it({aspectRatio:o,width:h,height:c});h=f.width,c=f.height,a.minWidth=h,a.minHeight=c,a.maxWidth=1/0,a.maxHeight=1/0}if(s)if(d>(u?0:1)){var v=r.width-a.width,m=r.height-a.height;a.minLeft=Math.min(0,v),a.minTop=Math.min(0,m),a.maxLeft=Math.max(0,v),a.maxTop=Math.max(0,m),u&&this.limited&&(a.minLeft=Math.min(l.left,l.left+(l.width-a.width)),a.minTop=Math.min(l.top,l.top+(l.height-a.height)),a.maxLeft=l.left,a.maxTop=l.top,d===2&&(a.width>=r.width&&(a.minLeft=Math.min(0,v),a.maxLeft=Math.max(0,v)),a.height>=r.height&&(a.minTop=Math.min(0,m),a.maxTop=Math.max(0,m))))}else a.minLeft=-a.width,a.minTop=-a.height,a.maxLeft=r.width,a.maxTop=r.height},renderCanvas:function(t,s){var i=this.canvasData,r=this.imageData;if(s){var a=ci({width:r.naturalWidth*Math.abs(r.scaleX||1),height:r.naturalHeight*Math.abs(r.scaleY||1),degree:r.rotate||0}),l=a.width,d=a.height,o=i.width*(l/i.naturalWidth),u=i.height*(d/i.naturalHeight);i.left-=(o-i.width)/2,i.top-=(u-i.height)/2,i.width=o,i.height=u,i.aspectRatio=l/d,i.naturalWidth=l,i.naturalHeight=d,this.limitCanvas(!0,!1)}(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCanvas(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,et(this.canvas,M({width:i.width,height:i.height},vt({translateX:i.left,translateY:i.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var s=this.canvasData,i=this.imageData,r=i.naturalWidth*(s.width/s.naturalWidth),a=i.naturalHeight*(s.height/s.naturalHeight);M(i,{width:r,height:a,left:(s.width-r)/2,top:(s.height-a)/2}),et(this.image,M({width:i.width,height:i.height},vt(M({translateX:i.left,translateY:i.top},i)))),t&&this.output()},initCropBox:function(){var t=this.options,s=this.canvasData,i=t.aspectRatio||t.initialAspectRatio,r=Number(t.autoCropArea)||.8,a={width:s.width,height:s.height};i&&(s.height*i>s.width?a.height=a.width/i:a.width=a.height*i),this.cropBoxData=a,this.limitCropBox(!0,!0),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),a.width=Math.max(a.minWidth,a.width*r),a.height=Math.max(a.minHeight,a.height*r),a.left=s.left+(s.width-a.width)/2,a.top=s.top+(s.height-a.height)/2,a.oldLeft=a.left,a.oldTop=a.top,this.initialCropBoxData=M({},a)},limitCropBox:function(t,s){var i=this.options,r=this.containerData,a=this.canvasData,l=this.cropBoxData,d=this.limited,o=i.aspectRatio;if(t){var u=Number(i.minCropBoxWidth)||0,h=Number(i.minCropBoxHeight)||0,c=d?Math.min(r.width,a.width,a.width+a.left,r.width-a.left):r.width,f=d?Math.min(r.height,a.height,a.height+a.top,r.height-a.top):r.height;u=Math.min(u,r.width),h=Math.min(h,r.height),o&&(u&&h?h*o>u?h=u/o:u=h*o:u?h=u/o:h&&(u=h*o),f*o>c?f=c/o:c=f*o),l.minWidth=Math.min(u,c),l.minHeight=Math.min(h,f),l.maxWidth=c,l.maxHeight=f}s&&(d?(l.minLeft=Math.max(0,a.left),l.minTop=Math.max(0,a.top),l.maxLeft=Math.min(r.width,a.left+a.width)-l.width,l.maxTop=Math.min(r.height,a.top+a.height)-l.height):(l.minLeft=0,l.minTop=0,l.maxLeft=r.width-l.width,l.maxTop=r.height-l.height))},renderCropBox:function(){var t=this.options,s=this.containerData,i=this.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCropBox(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,t.movable&&t.cropBoxMovable&&xt(this.face,yt,i.width>=s.width&&i.height>=s.height?be:Xt),et(this.cropBox,M({width:i.width,height:i.height},vt({translateX:i.left,translateY:i.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),ft(this.element,Pt,this.getData())}},xi={initPreview:function(){var t=this.element,s=this.crossOrigin,i=this.options.preview,r=s?this.crossOriginUrl:this.url,a=t.alt||"The image to preview",l=document.createElement("img");if(s&&(l.crossOrigin=s),l.src=r,l.alt=a,this.viewBox.appendChild(l),this.viewBoxImage=l,!!i){var d=i;typeof i=="string"?d=t.ownerDocument.querySelectorAll(i):i.querySelector&&(d=[i]),this.previews=d,S(d,function(o){var u=document.createElement("img");xt(o,Et,{width:o.offsetWidth,height:o.offsetHeight,html:o.innerHTML}),s&&(u.crossOrigin=s),u.src=r,u.alt=a,u.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',o.innerHTML="",o.appendChild(u)})}},resetPreview:function(){S(this.previews,function(t){var s=_t(t,Et);et(t,{width:s.width,height:s.height}),t.innerHTML=s.html,ni(t,Et)})},preview:function(){var t=this.imageData,s=this.canvasData,i=this.cropBoxData,r=i.width,a=i.height,l=t.width,d=t.height,o=i.left-s.left-t.left,u=i.top-s.top-t.top;!this.cropped||this.disabled||(et(this.viewBoxImage,M({width:l,height:d},vt(M({translateX:-o,translateY:-u},t)))),S(this.previews,function(h){var c=_t(h,Et),f=c.width,v=c.height,m=f,C=v,w=1;r&&(w=f/r,C=a*w),a&&C>v&&(w=v/a,m=r*w,C=v),et(h,{width:m,height:C}),et(h.getElementsByTagName("img")[0],M({width:l*w,height:d*w},vt(M({translateX:-o*w,translateY:-u*w},t))))}))}},wi={bind:function(){var t=this.element,s=this.options,i=this.cropper;z(s.cropstart)&&F(t,Lt,s.cropstart),z(s.cropmove)&&F(t,Ut,s.cropmove),z(s.cropend)&&F(t,Bt,s.cropend),z(s.crop)&&F(t,Pt,s.crop),z(s.zoom)&&F(t,zt,s.zoom),F(i,ie,this.onCropStart=this.cropStart.bind(this)),s.zoomable&&s.zoomOnWheel&&F(i,ne,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),s.toggleDragModeOnDblclick&&F(i,ee,this.onDblclick=this.dblclick.bind(this)),F(t.ownerDocument,se,this.onCropMove=this.cropMove.bind(this)),F(t.ownerDocument,re,this.onCropEnd=this.cropEnd.bind(this)),s.responsive&&F(window,oe,this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,s=this.options,i=this.cropper;z(s.cropstart)&&j(t,Lt,s.cropstart),z(s.cropmove)&&j(t,Ut,s.cropmove),z(s.cropend)&&j(t,Bt,s.cropend),z(s.crop)&&j(t,Pt,s.crop),z(s.zoom)&&j(t,zt,s.zoom),j(i,ie,this.onCropStart),s.zoomable&&s.zoomOnWheel&&j(i,ne,this.onWheel,{passive:!1,capture:!0}),s.toggleDragModeOnDblclick&&j(i,ee,this.onDblclick),j(t.ownerDocument,se,this.onCropMove),j(t.ownerDocument,re,this.onCropEnd),s.responsive&&j(window,oe,this.onResize)}},Ei={resize:function(){if(!this.disabled){var t=this.options,s=this.container,i=this.containerData,r=s.offsetWidth/i.width,a=s.offsetHeight/i.height,l=Math.abs(r-1)>Math.abs(a-1)?r:a;if(l!==1){var d,o;t.restore&&(d=this.getCanvasData(),o=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(S(d,function(u,h){d[h]=u*l})),this.setCropBoxData(S(o,function(u,h){o[h]=u*l})))}}},dblclick:function(){this.disabled||this.options.dragMode===xe||this.setDragMode(ai(this.dragBox,It)?ye:Wt)},wheel:function(t){var s=this,i=Number(this.options.wheelZoomRatio)||.1,r=1;this.disabled||(t.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){s.wheeling=!1},50),t.deltaY?r=t.deltaY>0?1:-1:t.wheelDelta?r=-t.wheelDelta/120:t.detail&&(r=t.detail>0?1:-1),this.zoom(-r*i,t)))},cropStart:function(t){var s=t.buttons,i=t.button;if(!(this.disabled||(t.type==="mousedown"||t.type==="pointerdown"&&t.pointerType==="mouse")&&(g(s)&&s!==1||g(i)&&i!==0||t.ctrlKey))){var r=this.options,a=this.pointers,l;t.changedTouches?S(t.changedTouches,function(d){a[d.identifier]=Dt(d)}):a[t.pointerId||0]=Dt(t),Object.keys(a).length>1&&r.zoomable&&r.zoomOnTouch?l=ve:l=_t(t.target,yt),qe.test(l)&&ft(this.element,Lt,{originalEvent:t,action:l})!==!1&&(t.preventDefault(),this.action=l,this.cropping=!1,l===me&&(this.cropping=!0,P(this.dragBox,Ct)))}},cropMove:function(t){var s=this.action;if(!(this.disabled||!s)){var i=this.pointers;t.preventDefault(),ft(this.element,Ut,{originalEvent:t,action:s})!==!1&&(t.changedTouches?S(t.changedTouches,function(r){M(i[r.identifier]||{},Dt(r,!0))}):M(i[t.pointerId||0]||{},Dt(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var s=this.action,i=this.pointers;t.changedTouches?S(t.changedTouches,function(r){delete i[r.identifier]}):delete i[t.pointerId||0],s&&(t.preventDefault(),Object.keys(i).length||(this.action=""),this.cropping&&(this.cropping=!1,ct(this.dragBox,Ct,this.cropped&&this.options.modal)),ft(this.element,Bt,{originalEvent:t,action:s}))}}},Di={change:function(t){var s=this.options,i=this.canvasData,r=this.containerData,a=this.cropBoxData,l=this.pointers,d=this.action,o=s.aspectRatio,u=a.left,h=a.top,c=a.width,f=a.height,v=u+c,m=h+f,C=0,w=0,k=r.width,R=r.height,O=!0,Q;!o&&t.shiftKey&&(o=c&&f?c/f:1),this.limited&&(C=a.minLeft,w=a.minTop,k=C+Math.min(r.width,i.width,i.left+i.width),R=w+Math.min(r.height,i.height,i.top+i.height));var Y=l[Object.keys(l)[0]],p={x:Y.endX-Y.startX,y:Y.endY-Y.startY},E=function(V){switch(V){case ot:v+p.x>k&&(p.x=k-v);break;case nt:u+p.x<C&&(p.x=C-u);break;case tt:h+p.y<w&&(p.y=w-h);break;case dt:m+p.y>R&&(p.y=R-m);break}};switch(d){case Xt:u+=p.x,h+=p.y;break;case ot:if(p.x>=0&&(v>=k||o&&(h<=w||m>=R))){O=!1;break}E(ot),c+=p.x,c<0&&(d=nt,c=-c,u-=c),o&&(f=c/o,h+=(a.height-f)/2);break;case tt:if(p.y<=0&&(h<=w||o&&(u<=C||v>=k))){O=!1;break}E(tt),f-=p.y,h+=p.y,f<0&&(d=dt,f=-f,h-=f),o&&(c=f*o,u+=(a.width-c)/2);break;case nt:if(p.x<=0&&(u<=C||o&&(h<=w||m>=R))){O=!1;break}E(nt),c-=p.x,u+=p.x,c<0&&(d=ot,c=-c,u-=c),o&&(f=c/o,h+=(a.height-f)/2);break;case dt:if(p.y>=0&&(m>=R||o&&(u<=C||v>=k))){O=!1;break}E(dt),f+=p.y,f<0&&(d=tt,f=-f,h-=f),o&&(c=f*o,u+=(a.width-c)/2);break;case pt:if(o){if(p.y<=0&&(h<=w||v>=k)){O=!1;break}E(tt),f-=p.y,h+=p.y,c=f*o}else E(tt),E(ot),p.x>=0?v<k?c+=p.x:p.y<=0&&h<=w&&(O=!1):c+=p.x,p.y<=0?h>w&&(f-=p.y,h+=p.y):(f-=p.y,h+=p.y);c<0&&f<0?(d=bt,f=-f,c=-c,h-=f,u-=c):c<0?(d=gt,c=-c,u-=c):f<0&&(d=mt,f=-f,h-=f);break;case gt:if(o){if(p.y<=0&&(h<=w||u<=C)){O=!1;break}E(tt),f-=p.y,h+=p.y,c=f*o,u+=a.width-c}else E(tt),E(nt),p.x<=0?u>C?(c-=p.x,u+=p.x):p.y<=0&&h<=w&&(O=!1):(c-=p.x,u+=p.x),p.y<=0?h>w&&(f-=p.y,h+=p.y):(f-=p.y,h+=p.y);c<0&&f<0?(d=mt,f=-f,c=-c,h-=f,u-=c):c<0?(d=pt,c=-c,u-=c):f<0&&(d=bt,f=-f,h-=f);break;case bt:if(o){if(p.x<=0&&(u<=C||m>=R)){O=!1;break}E(nt),c-=p.x,u+=p.x,f=c/o}else E(dt),E(nt),p.x<=0?u>C?(c-=p.x,u+=p.x):p.y>=0&&m>=R&&(O=!1):(c-=p.x,u+=p.x),p.y>=0?m<R&&(f+=p.y):f+=p.y;c<0&&f<0?(d=pt,f=-f,c=-c,h-=f,u-=c):c<0?(d=mt,c=-c,u-=c):f<0&&(d=gt,f=-f,h-=f);break;case mt:if(o){if(p.x>=0&&(v>=k||m>=R)){O=!1;break}E(ot),c+=p.x,f=c/o}else E(dt),E(ot),p.x>=0?v<k?c+=p.x:p.y>=0&&m>=R&&(O=!1):c+=p.x,p.y>=0?m<R&&(f+=p.y):f+=p.y;c<0&&f<0?(d=gt,f=-f,c=-c,h-=f,u-=c):c<0?(d=bt,c=-c,u-=c):f<0&&(d=pt,f=-f,h-=f);break;case be:this.move(p.x,p.y),O=!1;break;case ve:this.zoom(di(l),t),O=!1;break;case me:if(!p.x||!p.y){O=!1;break}Q=Me(this.cropper),u=Y.startX-Q.left,h=Y.startY-Q.top,c=a.minWidth,f=a.minHeight,p.x>0?d=p.y>0?mt:pt:p.x<0&&(u-=c,d=p.y>0?bt:gt),p.y<0&&(h-=f),this.cropped||(q(this.cropBox,_),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}O&&(a.width=c,a.height=f,a.left=u,a.top=h,this.action=d,this.renderCropBox()),S(l,function(A){A.startX=A.endX,A.startY=A.endY})}},Ci={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&P(this.dragBox,Ct),q(this.cropBox,_),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=M({},this.initialImageData),this.canvasData=M({},this.initialCanvasData),this.cropBoxData=M({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(M(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),q(this.dragBox,Ct),P(this.cropBox,_)),this},replace:function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&t&&(this.isImg&&(this.element.src=t),s?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,S(this.previews,function(i){i.getElementsByTagName("img")[0].src=t}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,q(this.cropper,$t)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,P(this.cropper,$t)),this},destroy:function(){var t=this.element;return t[T]?(t[T]=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,i=this.canvasData,r=i.left,a=i.top;return this.moveTo(Ot(t)?t:r+Number(t),Ot(s)?s:a+Number(s))},moveTo:function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,i=this.canvasData,r=!1;return t=Number(t),s=Number(s),this.ready&&!this.disabled&&this.options.movable&&(g(t)&&(i.left=t,r=!0),g(s)&&(i.top=s,r=!0),r&&this.renderCanvas(!0)),this},zoom:function(t,s){var i=this.canvasData;return t=Number(t),t<0?t=1/(1-t):t=1+t,this.zoomTo(i.width*t/i.naturalWidth,null,s)},zoomTo:function(t,s,i){var r=this.options,a=this.canvasData,l=a.width,d=a.height,o=a.naturalWidth,u=a.naturalHeight;if(t=Number(t),t>=0&&this.ready&&!this.disabled&&r.zoomable){var h=o*t,c=u*t;if(ft(this.element,zt,{ratio:t,oldRatio:l/o,originalEvent:i})===!1)return this;if(i){var f=this.pointers,v=Me(this.cropper),m=f&&Object.keys(f).length?hi(f):{pageX:i.pageX,pageY:i.pageY};a.left-=(h-l)*((m.pageX-v.left-a.left)/l),a.top-=(c-d)*((m.pageY-v.top-a.top)/d)}else ht(s)&&g(s.x)&&g(s.y)?(a.left-=(h-l)*((s.x-a.left)/l),a.top-=(c-d)*((s.y-a.top)/d)):(a.left-=(h-l)/2,a.top-=(c-d)/2);a.width=h,a.height=c,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return t=Number(t),g(t)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var s=this.imageData.scaleY;return this.scale(t,g(s)?s:1)},scaleY:function(t){var s=this.imageData.scaleX;return this.scale(g(s)?s:1,t)},scale:function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,i=this.imageData,r=!1;return t=Number(t),s=Number(s),this.ready&&!this.disabled&&this.options.scalable&&(g(t)&&(i.scaleX=t,r=!0),g(s)&&(i.scaleY=s,r=!0),r&&this.renderCanvas(!0,!0)),this},getData:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,s=this.options,i=this.imageData,r=this.canvasData,a=this.cropBoxData,l;if(this.ready&&this.cropped){l={x:a.left-r.left,y:a.top-r.top,width:a.width,height:a.height};var d=i.width/i.naturalWidth;if(S(l,function(h,c){l[c]=h/d}),t){var o=Math.round(l.y+l.height),u=Math.round(l.x+l.width);l.x=Math.round(l.x),l.y=Math.round(l.y),l.width=u-l.x,l.height=o-l.y}}else l={x:0,y:0,width:0,height:0};return s.rotatable&&(l.rotate=i.rotate||0),s.scalable&&(l.scaleX=i.scaleX||1,l.scaleY=i.scaleY||1),l},setData:function(t){var s=this.options,i=this.imageData,r=this.canvasData,a={};if(this.ready&&!this.disabled&&ht(t)){var l=!1;s.rotatable&&g(t.rotate)&&t.rotate!==i.rotate&&(i.rotate=t.rotate,l=!0),s.scalable&&(g(t.scaleX)&&t.scaleX!==i.scaleX&&(i.scaleX=t.scaleX,l=!0),g(t.scaleY)&&t.scaleY!==i.scaleY&&(i.scaleY=t.scaleY,l=!0)),l&&this.renderCanvas(!0,!0);var d=i.width/i.naturalWidth;g(t.x)&&(a.left=t.x*d+r.left),g(t.y)&&(a.top=t.y*d+r.top),g(t.width)&&(a.width=t.width*d),g(t.height)&&(a.height=t.height*d),this.setCropBoxData(a)}return this},getContainerData:function(){return this.ready?M({},this.containerData):{}},getImageData:function(){return this.sized?M({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,s={};return this.ready&&S(["left","top","width","height","naturalWidth","naturalHeight"],function(i){s[i]=t[i]}),s},setCanvasData:function(t){var s=this.canvasData,i=s.aspectRatio;return this.ready&&!this.disabled&&ht(t)&&(g(t.left)&&(s.left=t.left),g(t.top)&&(s.top=t.top),g(t.width)?(s.width=t.width,s.height=t.width/i):g(t.height)&&(s.height=t.height,s.width=t.height*i),this.renderCanvas(!0)),this},getCropBoxData:function(){var t=this.cropBoxData,s;return this.ready&&this.cropped&&(s={left:t.left,top:t.top,width:t.width,height:t.height}),s||{}},setCropBoxData:function(t){var s=this.cropBoxData,i=this.options.aspectRatio,r,a;return this.ready&&this.cropped&&!this.disabled&&ht(t)&&(g(t.left)&&(s.left=t.left),g(t.top)&&(s.top=t.top),g(t.width)&&t.width!==s.width&&(r=!0,s.width=t.width),g(t.height)&&t.height!==s.height&&(a=!0,s.height=t.height),i&&(r?s.height=s.width/i:a&&(s.width=s.height*i)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var s=this.canvasData,i=ui(this.image,this.imageData,s,t);if(!this.cropped)return i;var r=this.getData(t.rounded),a=r.x,l=r.y,d=r.width,o=r.height,u=i.width/Math.floor(s.naturalWidth);u!==1&&(a*=u,l*=u,d*=u,o*=u);var h=d/o,c=it({aspectRatio:h,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),f=it({aspectRatio:h,width:t.minWidth||0,height:t.minHeight||0},"cover"),v=it({aspectRatio:h,width:t.width||(u!==1?i.width:d),height:t.height||(u!==1?i.height:o)}),m=v.width,C=v.height;m=Math.min(c.width,Math.max(f.width,m)),C=Math.min(c.height,Math.max(f.height,C));var w=document.createElement("canvas"),k=w.getContext("2d");w.width=ut(m),w.height=ut(C),k.fillStyle=t.fillColor||"transparent",k.fillRect(0,0,m,C);var R=t.imageSmoothingEnabled,O=R===void 0?!0:R,Q=t.imageSmoothingQuality;k.imageSmoothingEnabled=O,Q&&(k.imageSmoothingQuality=Q);var Y=i.width,p=i.height,E=a,A=l,V,J,st,rt,$,G;E<=-d||E>Y?(E=0,V=0,st=0,$=0):E<=0?(st=-E,E=0,V=Math.min(Y,d+E),$=V):E<=Y&&(st=0,V=Math.min(d,Y-E),$=V),V<=0||A<=-o||A>p?(A=0,J=0,rt=0,G=0):A<=0?(rt=-A,A=0,J=Math.min(p,o+A),G=J):A<=p&&(rt=0,J=Math.min(o,p-A),G=J);var U=[E,A,V,J];if($>0&&G>0){var at=m/d;U.push(st*at,rt*at,$*at,G*at)}return k.drawImage.apply(k,[i].concat(ge(U.map(function(wt){return Math.floor(ut(wt))})))),w},setAspectRatio:function(t){var s=this.options;return!this.disabled&&!Ot(t)&&(s.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var s=this.options,i=this.dragBox,r=this.face;if(this.ready&&!this.disabled){var a=t===Wt,l=s.movable&&t===ye;t=a||l?t:xe,s.dragMode=t,xt(i,yt,t),ct(i,It,a),ct(i,Rt,l),s.cropBoxMovable||(xt(r,yt,t),ct(r,It,a),ct(r,Rt,l))}return this}},Ti=Z.Cropper,Yt=function(){function e(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(ze(this,e),!t||!Je.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=M({},de,ht(s)&&s),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return _e(e,[{key:"init",value:function(){var s=this.element,i=s.tagName.toLowerCase(),r;if(!s[T]){if(s[T]=this,i==="img"){if(this.isImg=!0,r=s.getAttribute("src")||"",this.originalUrl=r,!r)return;r=s.src}else i==="canvas"&&window.HTMLCanvasElement&&(r=s.toDataURL());this.load(r)}}},{key:"load",value:function(s){var i=this;if(s){this.url=s,this.imageData={};var r=this.element,a=this.options;if(!a.rotatable&&!a.scalable&&(a.checkOrientation=!1),!a.checkOrientation||!window.ArrayBuffer){this.clone();return}if(Ze.test(s)){Qe.test(s)?this.read(gi(s)):this.clone();return}var l=new XMLHttpRequest,d=this.clone.bind(this);this.reloading=!0,this.xhr=l,l.onabort=d,l.onerror=d,l.ontimeout=d,l.onprogress=function(){l.getResponseHeader("content-type")!==le&&l.abort()},l.onload=function(){i.read(l.response)},l.onloadend=function(){i.reloading=!1,i.xhr=null},a.checkCrossOrigin&&ce(s)&&r.crossOrigin&&(s=ue(s)),l.open("GET",s,!0),l.responseType="arraybuffer",l.withCredentials=r.crossOrigin==="use-credentials",l.send()}}},{key:"read",value:function(s){var i=this.options,r=this.imageData,a=bi(s),l=0,d=1,o=1;if(a>1){this.url=mi(s,le);var u=vi(a);l=u.rotate,d=u.scaleX,o=u.scaleY}i.rotatable&&(r.rotate=l),i.scalable&&(r.scaleX=d,r.scaleY=o),this.clone()}},{key:"clone",value:function(){var s=this.element,i=this.url,r=s.crossOrigin,a=i;this.options.checkCrossOrigin&&ce(i)&&(r||(r="anonymous"),a=ue(i)),this.crossOrigin=r,this.crossOriginUrl=a;var l=document.createElement("img");r&&(l.crossOrigin=r),l.src=a||i,l.alt=s.alt||"The image to crop",this.image=l,l.onload=this.start.bind(this),l.onerror=this.stop.bind(this),P(l,te),s.parentNode.insertBefore(l,s.nextSibling)}},{key:"start",value:function(){var s=this,i=this.image;i.onload=null,i.onerror=null,this.sizing=!0;var r=Z.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Z.navigator.userAgent),a=function(u,h){M(s.imageData,{naturalWidth:u,naturalHeight:h,aspectRatio:u/h}),s.initialImageData=M({},s.imageData),s.sizing=!1,s.sized=!0,s.build()};if(i.naturalWidth&&!r){a(i.naturalWidth,i.naturalHeight);return}var l=document.createElement("img"),d=document.body||document.documentElement;this.sizingImage=l,l.onload=function(){a(l.width,l.height),r||d.removeChild(l)},l.src=i.src,r||(l.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",d.appendChild(l))}},{key:"stop",value:function(){var s=this.image;s.onload=null,s.onerror=null,s.parentNode.removeChild(s),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var s=this.element,i=this.options,r=this.image,a=s.parentNode,l=document.createElement("div");l.innerHTML=$e;var d=l.querySelector(".".concat(T,"-container")),o=d.querySelector(".".concat(T,"-canvas")),u=d.querySelector(".".concat(T,"-drag-box")),h=d.querySelector(".".concat(T,"-crop-box")),c=h.querySelector(".".concat(T,"-face"));this.container=a,this.cropper=d,this.canvas=o,this.dragBox=u,this.cropBox=h,this.viewBox=d.querySelector(".".concat(T,"-view-box")),this.face=c,o.appendChild(r),P(s,_),a.insertBefore(d,s.nextSibling),q(r,te),this.initPreview(),this.bind(),i.initialAspectRatio=Math.max(0,i.initialAspectRatio)||NaN,i.aspectRatio=Math.max(0,i.aspectRatio)||NaN,i.viewMode=Math.max(0,Math.min(3,Math.round(i.viewMode)))||0,P(h,_),i.guides||P(h.getElementsByClassName("".concat(T,"-dashed")),_),i.center||P(h.getElementsByClassName("".concat(T,"-center")),_),i.background&&P(d,"".concat(T,"-bg")),i.highlight||P(c,Fe),i.cropBoxMovable&&(P(c,Rt),xt(c,yt,Xt)),i.cropBoxResizable||(P(h.getElementsByClassName("".concat(T,"-line")),_),P(h.getElementsByClassName("".concat(T,"-point")),_)),this.render(),this.ready=!0,this.setDragMode(i.dragMode),i.autoCrop&&this.crop(),this.setData(i.data),z(i.ready)&&F(s,ae,i.ready,{once:!0}),ft(s,ae)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var s=this.cropper.parentNode;s&&s.removeChild(this.cropper),q(this.element,_)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=Ti,e}},{key:"setDefaults",value:function(s){M(de,ht(s)&&s)}}])}();M(Yt.prototype,yi,xi,wi,Ei,Di,Ci);const Mi={components:{AppLayout:Be,Button:ke},mounted(){console.log("Component mounted.")},data(){return{fullName:"",empPosition:"",profilePictureUrl:"",copyPermanentToCurrent:!1,fields:{empUser:"",empID:"",firstName:"",middleName:"",lastName:"",suffix:"",citizenship:"",birthday:"",placeOfBirth:"",sex:"",civilStatus:"",height:"",weight:"",bloodType:"",zipcode:"",block:"",villsub:"",mobilenum:"",telnum:"",emailadd:"",Region:"",Province:"",City:"",croppedBlob:null,Barangay:"",Region2:"",Province2:"",City2:"",Barangay2:"",zipcode2:"",block2:"",villsub2:""},activeTab:"personal-info",activeSubTab:"",isEditing:!1,originalFields:{},errorMessage:"",showUpdateDialog:!1,showSuccessDialog:!1,showPhotoSuccessDialog:!1,sexOptions:[],civilStatusOptions:[],bloodTypeOptions:[],extOptions:[],regions:[],provinces:[],cities:[],barangays:[],regions2:[],provinces2:[],cities2:[],barangays2:[],activeTab:0,activeSubTab:"",searchQuery:"",isHovered:!1,isUnblurred:!1,selectedFile:null,empPic:"",cropping:!1,cropper:null,cropperSrc:""}},created(){this.empid=sessionStorage.getItem("empid")||localStorage.getItem("empid")||""},computed:{maxDate(){const e=new Date,t=e.getFullYear(),s=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getDate().toString().padStart(2,"0");return`${t}-${s}-${i}`},calculatedAge(){if(!this.fields.birthday)return"";const e=new Date,t=new Date(this.fields.birthday);if(t>e)return this.hasBirthdayError=!0,this.birthdayErrorMessage="Birthday cannot be in the future.","Invalid Date";let s=e.getFullYear()-t.getFullYear();const i=e.getMonth()-t.getMonth();return(i<0||i===0&&e.getDate()<t.getDate())&&s--,s<18?(this.hasBirthdayError=!0,this.birthdayErrorMessage="Age must be at least 18 years old.","Invalid Age"):(this.hasBirthdayError=!1,this.birthdayErrorMessage="",s)}},watch:{copyPermanentToCurrent(e){e&&this.copyPermanentAddress()},"fields.Region"(e){e&&this.fetchProvinces()},"fields.Province"(e){e&&this.fetchCities()},"fields.City"(e){e&&this.fetchBarangays()},"fields.Region2"(e){e&&this.fetchProvinces2()},"fields.Province2"(e){e&&this.fetchCities2()},"fields.City2"(e){e&&this.fetchBarangays2()}},methods:{validateName(e){this.fields[e]=this.fields[e].replace(/[0-9]/g,"")},validateNumber(e){this.fields[e]=this.fields[e].replace(/\D/g,"")},validateMobileNumber(){this.fields.mobilenum=this.fields.mobilenum.replace(/\D/g,"").slice(0,10)},validateTelephoneNumber(){this.fields.telnum=this.fields.telnum.replace(/\D/g,"").slice(0,8)},fetchSexOptions(){fetch("/dropdown/sex-options").then(e=>{if(!e.ok)throw new Error("Failed to fetch sex options");return e.json()}).then(e=>{this.sexOptions=e}).catch(e=>{console.error(e)})},fetchCivilStatusOptions(){fetch("/dropdown/civilstatus-options").then(e=>{if(!e.ok)throw new Error("Failed to fetch civil status options");return e.json()}).then(e=>{this.civilStatusOptions=e}).catch(e=>{console.error(e)})},fetchBloodTypeOptions(){fetch("/dropdown/bloodtype-options").then(e=>{if(!e.ok)throw new Error("Failed to fetch blood type options");return e.json()}).then(e=>{this.bloodTypeOptions=e}).catch(e=>{console.error(e)})},fetchExtOptions(){fetch("/dropdown/ext-options").then(e=>{if(!e.ok)throw new Error("Failed to fetch suffix options");return e.json()}).then(e=>{this.extOptions=e}).catch(e=>{console.error(e)})},fetchFullName(){return B.get("/employee/fullname").then(e=>{this.fullName=e.data.fullName,this.empPosition=e.data.empPosition}).catch(e=>{throw this.errorMessage="Failed to load full name.",e})},fetchPersonalInfo(){B.get("/employee/PersonalInfo").then(e=>{this.fields.empUser=e.data.empUser,this.fields.empID=e.data.empID,this.fields.firstName=e.data.firstName,this.fields.middleName=e.data.middleName,this.fields.lastName=e.data.lastName,this.fields.suffix=e.data.suffix,this.fields.citizenship=e.data.citizenship,this.fields.birthday=e.data.birthday,this.fields.placeOfBirth=e.data.placeOfBirth,this.fields.sex=e.data.sex,this.fields.civilStatus=e.data.civilStatus,this.fields.height=e.data.height,this.fields.weight=e.data.weight,this.fields.bloodType=e.data.bloodType}).catch(e=>{this.errorMessage="Failed to load personal information."})},fetchAddress(){B.get("/employee/Address").then(e=>{this.fields.zipcode=e.data.zipcode,this.fields.block=e.data.block,this.fields.villsub=e.data.villsub,this.fields.Region=e.data.Region,this.fields.Province=e.data.Province,this.fields.City=e.data.City,this.fields.Barangay=e.data.Barangay,this.fetchProvinces(),this.fetchCities(),this.fetchBarangays()}).catch(e=>{this.errorMessage="Failed to load address."})},fetchAddress2(){B.get("/employee/Address2").then(e=>{this.fields.zipcode2=e.data.zipcode2,this.fields.block2=e.data.block2,this.fields.villsub2=e.data.villsub2,this.fields.Region2=e.data.Region2,this.fields.Province2=e.data.Province2,this.fields.City2=e.data.City2,this.fields.Barangay2=e.data.Barangay2,this.fetchProvinces2(),this.fetchCities2(),this.fetchBarangays2()}).catch(e=>{this.errorMessage="Failed to load address."})},fetchRegions(){B.get("/api/regions").then(e=>{this.regions=e.data}).catch(e=>{console.error("Error fetching regions:",e)})},fetchRegions2(){B.get("/api/regions2").then(e=>{this.regions2=e.data}).catch(e=>{console.error("Error fetching regions:",e)})},fetchProvinces(){B.get("/api/provinces",{params:{reg_psgc:this.fields.Region}}).then((function(e){this.provinces=e.data}).bind(this))},fetchProvinces2(){B.get("/api/provinces2",{params:{reg_psgc:this.fields.Region2}}).then((function(e){this.provinces2=e.data}).bind(this))},fetchCities(){B.get("/api/cities",{params:{prv_psgc:this.fields.Province}}).then((function(e){this.cities=e.data}).bind(this))},fetchCities2(){B.get("/api/cities2",{params:{prv_psgc:this.fields.Province2}}).then((function(e){this.cities2=e.data}).bind(this))},fetchBarangays(){B.get("/api/barangays",{params:{citmun_psgc:this.fields.City}}).then((function(e){this.barangays=e.data}).bind(this))},fetchBarangays2(){B.get("/api/barangays2",{params:{citmun_psgc:this.fields.City2}}).then((function(e){this.barangays2=e.data}).bind(this))},copyPermanentAddress(){this.fields.Region2=this.fields.Region,this.fields.Province2=this.fields.Province,this.fields.City2=this.fields.City,this.fields.Barangay2=this.fields.Barangay,this.fields.zipcode2=this.fields.zipcode,this.fields.block2=this.fields.block,this.fields.villsub2=this.fields.villsub},fetchSecurityandContact(){B.get("/employee/SecurityandContact").then(e=>{this.fields.mobilenum=e.data.mobilenum,this.fields.telnum=e.data.telnum,this.fields.emailadd=e.data.emailadd}).catch(e=>{this.errorMessage="Failed to load security and contact information."})},fetchProfilePicture(){B.get("/get-profile-picture").then(e=>{this.profilePictureUrl=e.data.url?e.data.url:"/storage/uploads/profile-pictures/default-profile.png",console.log("Profile Picture URL:",this.profilePictureUrl)}).catch(e=>{console.error("Error fetching profile picture:",e)})},toggleBlur(){this.isUnblurred=!this.isUnblurred},triggerFileUpload(){this.$refs.fileInput.click()},handleFileChange(e){const t=e.target.files[0];if(t){this.originalFileName=t.name;const s=new FileReader;s.onload=i=>{const r=new Image;r.src=i.target.result,r.onload=()=>{this.initCropping(r)}},s.readAsDataURL(t)}},onCroppingComplete(e){this.empid&&e?this.uploadCroppedImage(e,this.empid):console.error("Missing employee ID or cropped image.")},onFileSelected(e){const t=e.target.files[0];if(t){const s=new FileReader;s.onload=i=>{this.cropperSrc=i.target.result,this.cropping=!0,this.$nextTick(()=>{this.initializeCropper()})},s.readAsDataURL(t)}},initializeCropper(){const e=this.$refs.cropperImage;this.cropper=new Yt(e,{aspectRatio:3.5/4.5,viewMode:1})},cropImage(){this.cropper.getCroppedCanvas({width:350,height:450}).toBlob(t=>{this.uploadCroppedImage(t)})},initCropping(e){const t=new Yt(e,{aspectRatio:1,viewMode:1,ready(){console.log("Cropper is ready.")},crop(s){}});this.cropper=t},onCroppingComplete(){this.cropper?this.cropper.getCroppedCanvas().toBlob(e=>{this.uploadCroppedImage(e,this.empid)}):console.error("Cropper instance not found.")},uploadCroppedImage(e){const t=new FormData;t.append("file",e,"profile_image.png"),B.post("/upload-profile-picture",t,{headers:{"Content-Type":"multipart/form-data"}}).then(s=>{this.profilePictureUrl=s.data.url,this.cropping=!1,this.showPhotoSuccessDialog=!0}).catch(s=>{console.error("Error uploading file:",s)})},cancelCrop(){this.cropping=!1},hidePhotoSuccessDialog(){this.showPhotoSuccessDialog=!1,this.selectedFile=null,this.profilePictureUrl=""},uploadFile(){if(this.selectedFile){const e=new FormData;e.append("file",this.selectedFile),B.post("/upload-profile-picture",e,{headers:{"Content-Type":"multipart/form-data"}}).then(t=>{this.profilePictureUrl=t.data.url,this.showPhotoSuccessDialog=!0}).catch(t=>{console.error("Error uploading file:",t)})}},hidePhotoSuccessDialog(){this.showPhotoSuccessDialog=!1},tabButtonClass(e){return{"px-6 py-2 rounded-t-lg font-semibold border-t border-l border-r border-gray-200":!0,"bg-blue-900 text-white":this.activeTab===e,"bg-gray-300 text-gray-700":this.activeTab!==e}},toggleEditing(){this.isEditing||(this.originalFields=JSON.parse(JSON.stringify(this.fields))),this.isEditing=!this.isEditing},cancelEditing(){this.fields=JSON.parse(JSON.stringify(this.originalFields)),this.isEditing=!1,this.copyPermanentToCurrent=!1},confirmUpdate(){this.showUpdateDialog=!0},hideUpdateDialog(){this.showUpdateDialog=!1},async hideSuccessDialog(){this.showSuccessDialog=!1,this.isEditing=!1;try{await this.fetchFullName()}catch(e){console.error("Error during fetchFullName:",e)}},saveProfile(){B.patch("/employee/updateProfile",this.fields).then(()=>{this.isEditing=!1,this.showUpdateDialog=!1,this.showSuccessDialog=!0}).catch(e=>{console.error("Error updating profile:",e)})},search(){const e=this.searchQuery.toLowerCase();e.includes("personal info")?this.activeTab=0:e.includes("address")?this.activeTab=1:e.includes("security")&&(this.activeTab=2)}},mounted(){this.fetchFullName(),this.fetchPersonalInfo(),this.fetchSecurityandContact(),this.fetchAddress(),this.fetchAddress2(),this.fetchProfilePicture()},created(){this.fetchSexOptions(),this.fetchCivilStatusOptions(),this.fetchBloodTypeOptions(),this.fetchExtOptions(),this.fetchRegions(),this.fetchRegions2()}},Ni={class:"flex flex-col lg:flex-row"},Oi={class:"relative w-full p-6"},Si={class:"absolute right-0 flex items-center mb-4 -top-16 lg:static lg:mt-0 lg:mb-8"},ki={class:"relative object-cover w-24 h-24 rounded-full lg:w-36 lg:h-36 group"},Ai=["src"],Ii={class:"ml-4 text-left"},Ri={class:"text-4xl font-semibold text-blue-800"},Pi={class:"text-lg text-gray-600 font-semibold"},Bi={class:"flex justify-end -mb-px"},Ui={key:0,class:"p-6 bg-white border-2 border-blue-800 rounded-lg"},Li={class:"grid grid-cols-2 gap-4 mb-6"},zi={class:"grid grid-cols-4 gap-4 mb-6"},_i=["disabled"],Yi=["disabled"],Vi=["disabled"],Hi=["disabled"],Xi=["value"],Wi={class:"grid grid-cols-4 gap-4 mb-6"},Fi=["max"],ji=["disabled"],Gi=["value"],Ki={class:"grid grid-cols-5 gap-4 mb-6"},qi=["disabled"],Zi=["value"],Qi=["value"],Ji=["disabled"],$i=["value"],ts=["disabled"],es=["disabled"],is={class:"grid grid-cols-3 gap-4 mb-6"},ss={class:"flex items-center"},rs=["disabled"],as=["disabled"],os=["disabled"],ns={class:"mt-6 text-right"},ls={key:1,class:"inline-flex space-x-4"},ds={key:1,class:"p-6 bg-white border-2 border-blue-800 rounded-lg"},hs={class:"grid grid-cols-2 gap-4 mb-6"},cs=["disabled"],us=["value"],fs=["disabled"],ps=["value"],gs=["disabled"],ms=["value"],bs=["disabled"],vs=["value"],ys={class:"grid grid-cols-3 gap-4 mb-6"},xs=["disabled"],ws=["disabled"],Es=["disabled"],Ds={class:"flex justify-end mb-2"},Cs={class:"flex items-center"},Ts=["disabled"],Ms={class:"grid grid-cols-2 gap-4 mb-6"},Ns=["disabled"],Os=["value"],Ss=["disabled"],ks=["value"],As=["disabled"],Is=["value"],Rs=["disabled"],Ps=["value"],Bs={class:"grid grid-cols-3 gap-4 mb-6"},Us=["disabled"],Ls=["disabled"],zs=["disabled"],_s={class:"mt-6 text-right"},Ys={key:1,class:"inline-flex space-x-4"},Vs={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-gray-800 bg-opacity-75"},Hs={class:"w-full max-w-lg overflow-hidden transition-all transform bg-white rounded-lg"},Xs={class:"p-4"},Ws={class:"flex justify-center gap-4"},Fs={key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-gray-800 bg-opacity-75"},js={class:"w-full max-w-lg overflow-hidden transition-all transform bg-white rounded-lg"},Gs={class:"p-4"},Ks={class:"flex justify-center gap-4"},qs={key:2,class:"fixed inset-0 z-50 flex items-center justify-center bg-gray-800 bg-opacity-75"},Zs={class:"w-full max-w-lg overflow-hidden transition-all transform bg-white rounded-lg"},Qs={class:"p-4"},Js={class:"text-center"},$s={class:"flex justify-center"},tr={key:3,class:"fixed inset-0 z-50 flex items-center justify-center bg-gray-800 bg-opacity-75"},er={class:"w-full max-w-lg p-4 overflow-hidden transition-all transform bg-white rounded-lg"},ir={class:"crop-container"},sr=["src"],rr={class:"flex justify-center mt-4"};function ar(e,t,s,i,r,a){const l=Zt("Sidebar"),d=Zt("AppLayout");return b(),Ae(d,null,{default:Ie(()=>[n("div",Ni,[n("div",null,[Re(l)]),n("div",Oi,[n("div",Si,[n("div",ki,[n("img",{src:r.profilePictureUrl,alt:"Profile Picture",class:"object-cover w-full h-full rounded-full border"},null,8,Ai),n("div",{class:"absolute inset-0 flex items-center justify-center transition-opacity duration-300 bg-black bg-opacity-50 rounded-full opacity-0 cursor-pointer group-hover:opacity-100",onClick:t[0]||(t[0]=(...o)=>a.triggerFileUpload&&a.triggerFileUpload(...o))},t[55]||(t[55]=[n("i",{class:"text-3xl text-white fas fa-camera"},null,-1)])),n("input",{type:"file",ref:"fileInput",onChange:t[1]||(t[1]=(...o)=>a.onFileSelected&&a.onFileSelected(...o)),class:"hidden"},null,544)]),n("div",Ii,[n("h2",Ri,L(r.fullName),1),t[56]||(t[56]=n("hr",{class:"my-2 border-2 border-yellow-200"},null,-1)),n("p",Pi,L(r.empPosition),1)])]),n("div",Bi,[n("button",{onClick:t[2]||(t[2]=o=>r.activeTab=0),class:D(a.tabButtonClass(0))},"PERSONAL INFO",2),n("button",{onClick:t[3]||(t[3]=o=>r.activeTab=1),class:D(a.tabButtonClass(1))},"ADDRESS",2)]),r.activeTab===0?(b(),y("div",Ui,[t[76]||(t[76]=n("h2",{class:"pb-2 mb-4 text-lg font-semibold text-blue-800 border-b border-yellow-200"},"BASIC INFORMATION",-1)),n("div",Li,[n("div",null,[t[57]||(t[57]=n("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"EMPLOYEE ID",-1)),x(n("input",{class:"w-full p-2 border border-gray-300 rounded-md text-color",type:"text","onUpdate:modelValue":t[4]||(t[4]=o=>r.fields.empID=o),disabled:""},null,512),[[I,r.fields.empID]])]),n("div",null,[t[58]||(t[58]=n("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"USERNAME",-1)),x(n("input",{class:"w-full p-2 border border-gray-300 rounded-md text-color",type:"text","onUpdate:modelValue":t[5]||(t[5]=o=>r.fields.empUser=o),disabled:""},null,512),[[I,r.fields.empUser]])])]),n("div",zi,[n("div",null,[t[59]||(t[59]=n("label",{class:"block mb-1 text-sm font-medium text-gray-700"},[N("SURNAME "),n("span",{style:{color:"red"}},"*")],-1)),x(n("input",{class:D(["w-full p-2 border border-gray-300 rounded-md",{"disabled-input":!r.isEditing}]),type:"text","onUpdate:modelValue":t[6]||(t[6]=o=>r.fields.lastName=o),disabled:!r.isEditing,onInput:t[7]||(t[7]=o=>a.validateName("lastName"))},null,42,_i),[[I,r.fields.lastName]])]),n("div",null,[t[60]||(t[60]=n("label",{class:"block mb-1 text-sm font-medium text-gray-700"},[N("FIRST NAME "),n("span",{style:{color:"red"}},"*")],-1)),x(n("input",{class:D(["w-full p-2 border border-gray-300 rounded-md",{"disabled-input":!r.isEditing}]),type:"text","onUpdate:modelValue":t[8]||(t[8]=o=>r.fields.firstName=o),disabled:!r.isEditing,onInput:t[9]||(t[9]=o=>a.validateName("firstName"))},null,42,Yi),[[I,r.fields.firstName]])]),n("div",null,[t[61]||(t[61]=n("label",{class:"block mb-1 text-sm font-medium text-gray-700"},[N("MIDDLE NAME "),n("span",{style:{color:"red"}},"*")],-1)),x(n("input",{class:D(["w-full p-2 border border-gray-300 rounded-md",{"disabled-input":!r.isEditing}]),type:"text","onUpdate:modelValue":t[10]||(t[10]=o=>r.fields.middleName=o),disabled:!r.isEditing,onInput:t[11]||(t[11]=o=>a.validateName("middleName"))},null,42,Vi),[[I,r.fields.middleName]])]),n("div",null,[t[62]||(t[62]=n("label",{class:"block mb-1 text-sm font-medium text-gray-700"},[N("SUFFIX "),n("span",{style:{color:"red"}},"*")],-1)),x(n("select",{class:D(["w-full p-2 border border-gray-300 rounded-md",{"disabled-input":!r.isEditing}]),"onUpdate:modelValue":t[12]||(t[12]=o=>r.fields.suffix=o),disabled:!r.isEditing},[(b(!0),y(X,null,W(r.extOptions,o=>(b(),y("option",{key:o.value,value:o.value},L(o.label),9,Xi))),128))],10,Hi),[[H,r.fields.suffix]])])]),n("div",Wi,[n("div",null,[t[63]||(t[63]=n("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"CITIZENSHIP",-1)),x(n("input",{class:"w-full p-2 border border-gray-300 rounded-md text-color",type:"text","onUpdate:modelValue":t[13]||(t[13]=o=>r.fields.citizenship=o),disabled:""},null,512),[[I,r.fields.citizenship]])]),n("div",null,[t[64]||(t[64]=n("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"BIRTHDAY ",-1)),x(n("input",{class:D(["w-full p-2 border border-gray-300 rounded-md text-color",{"disabled-input":!r.isEditing}]),type:"date","onUpdate:modelValue":t[14]||(t[14]=o=>r.fields.birthday=o),disabled:"",max:a.maxDate},null,10,Fi),[[I,r.fields.birthday]])]),n("div",null,[t[65]||(t[65]=n("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"PLACE OF BIRTH",-1)),x(n("input",{class:"w-full p-2 border border-gray-300 rounded-md text-color",type:"text","onUpdate:modelValue":t[15]||(t[15]=o=>r.fields.placeOfBirth=o),disabled:""},null,512),[[I,r.fields.placeOfBirth]])]),n("div",null,[t[66]||(t[66]=n("label",{class:"block mb-1 text-sm font-medium text-gray-700"},[N("CIVIL STATUS "),n("span",{style:{color:"red"}},"*")],-1)),x(n("select",{class:D(["w-full p-2 border border-gray-300 rounded-md",{"disabled-input":!r.isEditing}]),"onUpdate:modelValue":t[16]||(t[16]=o=>r.fields.civilStatus=o),disabled:!r.isEditing},[(b(!0),y(X,null,W(r.civilStatusOptions,o=>(b(),y("option",{key:o.value,value:o.value},L(o.label),9,Gi))),128))],10,ji),[[H,r.fields.civilStatus]])])]),n("div",Ki,[n("div",null,[t[67]||(t[67]=n("label",{class:"block mb-1 text-sm font-medium text-gray-700"},[N("SEX "),n("span",{style:{color:"red"}},"*")],-1)),x(n("select",{class:D(["w-full p-2 border border-gray-300 rounded-md",{"disabled-input":!r.isEditing}]),"onUpdate:modelValue":t[17]||(t[17]=o=>r.fields.sex=o),disabled:!r.isEditing},[(b(!0),y(X,null,W(r.sexOptions,o=>(b(),y("option",{key:o.value,value:o.value},L(o.label),9,Zi))),128))],10,qi),[[H,r.fields.sex]])]),n("div",null,[t[68]||(t[68]=n("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"AGE",-1)),n("input",{class:"w-full p-2 border border-gray-300 rounded-md text-color",type:"text",value:a.calculatedAge,disabled:""},null,8,Qi)]),n("div",null,[t[69]||(t[69]=n("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"BLOOD TYPE",-1)),x(n("select",{class:D(["w-full p-2 border border-gray-300 rounded-md",{"disabled-input":!r.isEditing}]),"onUpdate:modelValue":t[18]||(t[18]=o=>r.fields.bloodType=o),disabled:!r.isEditing},[(b(!0),y(X,null,W(r.bloodTypeOptions,o=>(b(),y("option",{key:o.value,value:o.value},L(o.label),9,$i))),128))],10,Ji),[[H,r.fields.bloodType]])]),n("div",null,[t[70]||(t[70]=n("label",{class:"block mb-1 text-sm font-medium text-gray-700"},[N("HEIGHT(M) "),n("span",{style:{color:"red"}},"*")],-1)),x(n("input",{class:D(["w-full p-2 border border-gray-300 rounded-md",{"disabled-input":!r.isEditing}]),type:"number",step:"0.01","onUpdate:modelValue":t[19]||(t[19]=o=>r.fields.height=o),disabled:!r.isEditing},null,10,ts),[[I,r.fields.height]])]),n("div",null,[t[71]||(t[71]=n("label",{class:"block mb-1 text-sm font-medium text-gray-700"},[N("WEIGHT(KG) "),n("span",{style:{color:"red"}},"*")],-1)),x(n("input",{class:D(["w-full p-2 border border-gray-300 rounded-md",{"disabled-input":!r.isEditing}]),type:"number","onUpdate:modelValue":t[20]||(t[20]=o=>r.fields.weight=o),disabled:!r.isEditing},null,10,es),[[I,r.fields.weight]])])]),t[77]||(t[77]=n("h2",{class:"pb-2 mb-4 text-lg font-semibold text-blue-800 border-b border-yellow-200"},"CONTACT INFORMATION",-1)),n("div",is,[n("div",null,[t[73]||(t[73]=n("label",{class:"block mb-1 text-sm font-medium text-gray-700"},[N(" MOBILE NUMBER "),n("span",{style:{color:"red"}},"*")],-1)),n("div",ss,[t[72]||(t[72]=n("span",{class:"p-2 border border-gray-300 rounded-l-md bg-gray-200",style:{color:"#707A88"}},"+63",-1)),x(n("input",{class:D(["w-full p-2 border border-gray-300 rounded-r-md",{"disabled-input":!r.isEditing}]),"onUpdate:modelValue":t[21]||(t[21]=o=>r.fields.mobilenum=o),onInput:t[22]||(t[22]=(...o)=>a.validateMobileNumber&&a.validateMobileNumber(...o)),disabled:!r.isEditing},null,42,rs),[[I,r.fields.mobilenum]])])]),n("div",null,[t[74]||(t[74]=n("label",{class:"block mb-1 text-sm font-medium text-gray-700"},[N("TELEPHONE NUMBER "),n("span",{style:{color:"red"}},"*")],-1)),x(n("input",{class:D(["w-full p-2 border border-gray-300 rounded-md",{"disabled-input":!r.isEditing}]),type:"text","onUpdate:modelValue":t[23]||(t[23]=o=>r.fields.telnum=o),onInput:t[24]||(t[24]=(...o)=>a.validateTelephoneNumber&&a.validateTelephoneNumber(...o)),disabled:!r.isEditing},null,42,as),[[I,r.fields.telnum]])]),n("div",null,[t[75]||(t[75]=n("label",{class:"block mb-1 text-sm font-medium text-gray-700"},[N("EMAIL ADDRESS "),n("span",{style:{color:"red"}},"*")],-1)),x(n("input",{class:D(["w-full p-2 border border-gray-300 rounded-md",{"disabled-input":!r.isEditing}]),type:"email","onUpdate:modelValue":t[25]||(t[25]=o=>r.fields.emailadd=o),disabled:!r.isEditing},null,10,os),[[I,r.fields.emailadd]])])]),n("div",ns,[r.isEditing?K("",!0):(b(),y("button",{key:0,onClick:t[26]||(t[26]=(...o)=>a.toggleEditing&&a.toggleEditing(...o)),class:"px-8 py-2 font-semibold text-white transition bg-blue-900 rounded-md hover:bg-blue-800 duration-30"},"EDIT")),r.isEditing?(b(),y("div",ls,[n("button",{onClick:t[27]||(t[27]=(...o)=>a.cancelEditing&&a.cancelEditing(...o)),class:"px-4 py-2 text-white rounded-md bg-red-700 hover:bg-red-800 font-semibold"},"CANCEL"),n("button",{onClick:t[28]||(t[28]=(...o)=>a.confirmUpdate&&a.confirmUpdate(...o)),class:"px-8 py-2 text-white bg-blue-900 rounded-md hover:bg-blue-800 font-semibold"},"SAVE")])):K("",!0)])])):K("",!0),r.activeTab===1?(b(),y("div",ds,[t[93]||(t[93]=n("h2",{class:"pb-2 mb-4 text-lg font-semibold text-blue-800 border-b border-yellow-200"},"RESIDENTIAL ADDRESS",-1)),n("div",hs,[n("div",null,[t[78]||(t[78]=n("label",{class:"block mb-1 text-sm font-medium text-gray-700"},[N("REGION "),n("span",{style:{color:"red"}},"*")],-1)),x(n("select",{class:D(["w-full p-2 border border-gray-300 rounded-md",{"disabled-input":!r.isEditing}]),"onUpdate:modelValue":t[29]||(t[29]=o=>r.fields.Region=o),disabled:!r.isEditing},[(b(!0),y(X,null,W(r.regions,(o,u)=>(b(),y("option",{key:u,value:o.reg_psgc},L(o.col_region),9,us))),128))],10,cs),[[H,r.fields.Region]])]),n("div",null,[t[79]||(t[79]=n("label",{class:"block mb-1 text-sm font-medium text-gray-700"},[N("PROVINCE "),n("span",{style:{color:"red"}},"*")],-1)),x(n("select",{class:D(["w-full p-2 border border-gray-300 rounded-md",{"disabled-input":!r.isEditing}]),"onUpdate:modelValue":t[30]||(t[30]=o=>r.fields.Province=o),disabled:!r.isEditing},[(b(!0),y(X,null,W(r.provinces,(o,u)=>(b(),y("option",{key:u,value:o.prv_psgc},L(o.col_province),9,ps))),128))],10,fs),[[H,r.fields.Province]])]),n("div",null,[t[80]||(t[80]=n("label",{class:"block mb-1 text-sm font-medium text-gray-700"},[N("CITY "),n("span",{style:{color:"red"}},"*")],-1)),x(n("select",{class:D(["w-full p-2 border border-gray-300 rounded-md",{"disabled-input":!r.isEditing}]),"onUpdate:modelValue":t[31]||(t[31]=o=>r.fields.City=o),disabled:!r.isEditing},[(b(!0),y(X,null,W(r.cities,(o,u)=>(b(),y("option",{key:u,value:o.citmun_psgc},L(o.col_citymuni),9,ms))),128))],10,gs),[[H,r.fields.City]])]),n("div",null,[t[81]||(t[81]=n("label",{class:"block mb-1 text-sm font-medium text-gray-700"},[N("BARANGAY "),n("span",{style:{color:"red"}},"*")],-1)),x(n("select",{class:D(["w-full p-2 border border-gray-300 rounded-md",{"disabled-input":!r.isEditing}]),"onUpdate:modelValue":t[32]||(t[32]=o=>r.fields.Barangay=o),disabled:!r.isEditing},[(b(!0),y(X,null,W(r.barangays,(o,u)=>(b(),y("option",{key:u,value:o.brgy_psgc},L(o.col_brgy),9,vs))),128))],10,bs),[[H,r.fields.Barangay]])])]),n("div",ys,[n("div",null,[t[82]||(t[82]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[N("ZIP CODE "),n("span",{style:{color:"red"}},"*")],-1)),x(n("input",{class:D(["w-full p-2 border border-gray-300 rounded-md addgrid number-field",{"disabled-input":!r.isEditing}]),onInput:t[33]||(t[33]=o=>a.validateNumber("zipcode","fields")),type:"text","onUpdate:modelValue":t[34]||(t[34]=o=>r.fields.zipcode=o),disabled:!r.isEditing},null,42,xs),[[I,r.fields.zipcode]])]),n("div",null,[t[83]||(t[83]=n("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"VILLAGE SUBDIVISION",-1)),x(n("input",{class:D(["w-full p-2 border border-gray-300 rounded-md addgrid",{"disabled-input":!r.isEditing}]),type:"text","onUpdate:modelValue":t[35]||(t[35]=o=>r.fields.villsub=o),disabled:!r.isEditing},null,10,ws),[[I,r.fields.villsub]])]),n("div",null,[t[84]||(t[84]=n("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"BLOCK/STREET/PUROK",-1)),x(n("input",{class:D(["w-full p-2 border border-gray-300 rounded-md addgrid",{"disabled-input":!r.isEditing}]),type:"text","onUpdate:modelValue":t[36]||(t[36]=o=>r.fields.block=o),disabled:!r.isEditing},null,10,Es),[[I,r.fields.block]])])]),n("div",Ds,[n("div",Cs,[x(n("input",{type:"checkbox",id:"sameAddressCheckbox","onUpdate:modelValue":t[37]||(t[37]=o=>r.copyPermanentToCurrent=o),class:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",disabled:!r.isEditing},null,8,Ts),[[Pe,r.copyPermanentToCurrent]]),t[85]||(t[85]=n("label",{for:"sameAddressCheckbox",class:"block ml-2 text-sm font-medium text-gray-700"},"Same Residential Address?",-1))])]),t[94]||(t[94]=n("h2",{class:"pb-2 mb-4 text-lg font-semibold text-blue-800 border-b border-yellow-200"},"PERMANENT ADDRESS",-1)),n("div",Ms,[n("div",null,[t[86]||(t[86]=n("label",{class:"block mb-1 text-sm font-medium text-gray-700"},[N("REGION "),n("span",{style:{color:"red"}},"*")],-1)),x(n("select",{class:D(["w-full p-2 border border-gray-300 rounded-md",{"disabled-input":!r.isEditing}]),"onUpdate:modelValue":t[38]||(t[38]=o=>r.fields.Region2=o),disabled:!r.isEditing},[(b(!0),y(X,null,W(r.regions2,(o,u)=>(b(),y("option",{key:u,value:o.reg_psgc},L(o.col_region),9,Os))),128))],10,Ns),[[H,r.fields.Region2]])]),n("div",null,[t[87]||(t[87]=n("label",{class:"block mb-1 text-sm font-medium text-gray-700"},[N("PROVINCE "),n("span",{style:{color:"red"}},"*")],-1)),x(n("select",{class:D(["w-full p-2 border border-gray-300 rounded-md",{"disabled-input":!r.isEditing}]),"onUpdate:modelValue":t[39]||(t[39]=o=>r.fields.Province2=o),disabled:!r.isEditing},[(b(!0),y(X,null,W(r.provinces2,(o,u)=>(b(),y("option",{key:u,value:o.prv_psgc},L(o.col_province),9,ks))),128))],10,Ss),[[H,r.fields.Province2]])]),n("div",null,[t[88]||(t[88]=n("label",{class:"block mb-1 text-sm font-medium text-gray-700"},[N("CITY "),n("span",{style:{color:"red"}},"*")],-1)),x(n("select",{class:D(["w-full p-2 border border-gray-300 rounded-md",{"disabled-input":!r.isEditing}]),"onUpdate:modelValue":t[40]||(t[40]=o=>r.fields.City2=o),disabled:!r.isEditing},[(b(!0),y(X,null,W(r.cities2,(o,u)=>(b(),y("option",{key:u,value:o.citmun_psgc},L(o.col_citymuni),9,Is))),128))],10,As),[[H,r.fields.City2]])]),n("div",null,[t[89]||(t[89]=n("label",{class:"block mb-1 text-sm font-medium text-gray-700"},[N("BARANGAY "),n("span",{style:{color:"red"}},"*")],-1)),x(n("select",{class:D(["w-full p-2 border border-gray-300 rounded-md",{"disabled-input":!r.isEditing}]),"onUpdate:modelValue":t[41]||(t[41]=o=>r.fields.Barangay2=o),disabled:!r.isEditing},[(b(!0),y(X,null,W(r.barangays2,(o,u)=>(b(),y("option",{key:u,value:o.brgy_psgc},L(o.col_brgy),9,Ps))),128))],10,Rs),[[H,r.fields.Barangay2]])])]),n("div",Bs,[n("div",null,[t[90]||(t[90]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[N("ZIP CODE "),n("span",{style:{color:"red"}},"*")],-1)),x(n("input",{class:D(["w-full p-2 border border-gray-300 rounded-md addgrid number-field",{"disabled-input":!r.isEditing}]),onInput:t[42]||(t[42]=o=>a.validateNumber("zipcode2","fields")),type:"text","onUpdate:modelValue":t[43]||(t[43]=o=>r.fields.zipcode2=o),disabled:!r.isEditing},null,42,Us),[[I,r.fields.zipcode2]])]),n("div",null,[t[91]||(t[91]=n("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"VILLAGE SUBDIVISION",-1)),x(n("input",{class:D(["w-full p-2 border border-gray-300 rounded-md addgrid",{"disabled-input":!r.isEditing}]),type:"text","onUpdate:modelValue":t[44]||(t[44]=o=>r.fields.villsub2=o),disabled:!r.isEditing},null,10,Ls),[[I,r.fields.villsub2]])]),n("div",null,[t[92]||(t[92]=n("label",{class:"block mb-1 text-sm font-medium text-gray-700"},"BLOCK/STREET/PUROK",-1)),x(n("input",{class:D(["w-full p-2 border border-gray-300 rounded-md addgrid",{"disabled-input":!r.isEditing}]),type:"text","onUpdate:modelValue":t[45]||(t[45]=o=>r.fields.block2=o),disabled:!r.isEditing},null,10,zs),[[I,r.fields.block2]])])]),n("div",_s,[r.isEditing?K("",!0):(b(),y("button",{key:0,onClick:t[46]||(t[46]=(...o)=>a.toggleEditing&&a.toggleEditing(...o)),class:"px-8 py-2 font-semibold text-white transition bg-blue-900 rounded-md hover:bg-blue-800 duration-30"},"EDIT")),r.isEditing?(b(),y("div",Ys,[n("button",{onClick:t[47]||(t[47]=(...o)=>a.cancelEditing&&a.cancelEditing(...o)),class:"px-4 py-2 text-white rounded-md bg-red-700 hover:bg-red-800 font-semibold"},"CANCEL"),n("button",{onClick:t[48]||(t[48]=(...o)=>a.confirmUpdate&&a.confirmUpdate(...o)),class:"px-8 py-2 text-white bg-blue-900 rounded-md hover:bg-blue-800 font-semibold"},"SAVE")])):K("",!0)])])):K("",!0)])]),r.showUpdateDialog?(b(),y("div",Vs,[n("div",Hs,[n("div",Xs,[t[95]||(t[95]=n("div",{class:"text-center"},[n("i",{class:"mt-4 mb-4 text-4xl fas fa-circle-question",style:{color:"red"}}),n("h2",{class:"mb-4 text-xl font-semibold"},"Are you sure you want to update?"),n("p",{class:"mb-4"},"If you are certain, click 'Confirm' to proceed. Otherwise, click 'Cancel' to go back and review the information.")],-1)),n("div",Ws,[n("button",{onClick:t[49]||(t[49]=(...o)=>a.hideUpdateDialog&&a.hideUpdateDialog(...o)),class:"px-6 py-2 font-semibold text-white bg-red-700 rounded-md hover:bg-red-800"},"Cancel"),n("button",{onClick:t[50]||(t[50]=(...o)=>a.saveProfile&&a.saveProfile(...o)),class:"px-6 py-2 font-semibold text-white bg-blue-900 rounded-md hover:bg-blue-800"},"Confirm")])])])])):K("",!0),r.showSuccessDialog?(b(),y("div",Fs,[n("div",js,[n("div",Gs,[t[96]||(t[96]=n("div",{class:"text-center"},[n("i",{class:"mb-4 text-4xl fas fa-check-circle",style:{color:"green"}}),n("h2",{class:"mb-4 text-xl font-semibold"},"Updated Successfully!"),n("p",{class:"mb-4"},"Your profile has been updated successfully.")],-1)),n("div",Ks,[n("button",{onClick:t[51]||(t[51]=(...o)=>a.hideSuccessDialog&&a.hideSuccessDialog(...o)),class:"px-4 py-2 text-white bg-blue-900 rounded-md hover:bg-blue-800"},"OKAY")])])])])):K("",!0),r.showPhotoSuccessDialog?(b(),y("div",qs,[n("div",Zs,[n("div",Qs,[n("div",Js,[t[97]||(t[97]=n("i",{class:"mb-4 text-4xl fas fa-check-circle",style:{color:"green"}},null,-1)),t[98]||(t[98]=n("h2",{class:"mb-4 text-xl font-semibold"},"Photo Uploaded Successfully!",-1)),n("div",$s,[n("button",{onClick:t[52]||(t[52]=(...o)=>a.hidePhotoSuccessDialog&&a.hidePhotoSuccessDialog(...o)),class:"px-4 py-2 font-semibold text-white bg-blue-900 rounded hover:bg-blue-800"},"OKAY")])])])])])):K("",!0),r.cropping?(b(),y("div",tr,[n("div",er,[t[99]||(t[99]=n("h2",{class:"mb-4 text-xl font-semibold text-center"},"Crop Your Image",-1)),n("div",ir,[n("img",{ref:"cropperImage",src:r.cropperSrc,alt:"Cropper Image"},null,8,sr)]),n("div",rr,[n("button",{onClick:t[53]||(t[53]=(...o)=>a.cancelCrop&&a.cancelCrop(...o)),class:"px-6 py-2 mr-4 font-semibold text-white bg-red-700 rounded-md hover:bg-red-800"},"Cancel"),n("button",{onClick:t[54]||(t[54]=(...o)=>a.cropImage&&a.cropImage(...o)),class:"px-8 py-2 font-semibold text-white bg-blue-900 rounded-md hover:bg-blue-800"},"Crop")])])])):K("",!0)]),_:1})}const dr=Ue(Mi,[["render",ar],["__scopeId","data-v-c0c981e5"]]);export{dr as default};
